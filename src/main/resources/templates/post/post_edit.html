<!--/*@thymesVar id="post" type="br.com.rafaelbiasi.blog.model.Post"*/-->
<!doctype html>
<html lang="en"
      th:replace="~{fragment/base :: layout (~{:: div})}"
      xmlns:th="http://www.thymeleaf.org">
<body>
<main class="container mt-4">
    <div>
        <form action="#"
              enctype="multipart/form-data"
              method="post"
              th:action="@{|/post/udpate/${post.code}/|}"
              th:object="${post}">
            <input th:field="*{creation}" type="hidden"/>
            <header>
                <h2>Update Post</h2>
                <img alt="Post image" class="img-fluid"
                     loading="lazy" th:if="${not #strings.isEmpty(post.imageFilePath)}"
                     th:src="@{|/images/*{imageFilePath}/|}"/>
            </header>
            <div class="mb-3">
                <input accept="image/png, image/jpeg, image/jpg, image/bmp" class="btn btn-outline-info" id="input-file"
                       name="file"
                       type="file"/>
            </div>
            <div class="mb-3">
                <label for="new-post-title">Title</label>
                <input id="new-post-title" placeholder="Title" th:errorclass="is-invalid" th:field="*{title}"
                       type="text"/>
                <div th:errorclass="invalid-feedback" th:errors="*{title}" th:if="${#fields.hasErrors('title')}">
                    Title error
                </div>
            </div>
            <div class="mb-3">
                <label for="new-post-body">Body</label>
                <textarea id="new-post-body" th:errorclass="is-invalid" th:field="*{body}"></textarea>
                <div th:errorclass="invalid-feedback" th:errors="*{body}" th:if="${#fields.hasErrors('body')}">
                    Body error
                </div>
            </div>
            <button class="btn btn-primary" type="submit">Update Post</button>
        </form>
    </div>
</main>
</body>
</html>
